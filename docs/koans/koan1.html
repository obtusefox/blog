<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Kotlin Koans 1 : Java to Kotlin | ObtuseCave</title>
    <meta name="description" content="Kotlin Koans 1. Java to Kotlin Conversion을 수행하며 루프, 조건문 등의 차이를 알아보자">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.0d0af00e.css" as="style"><link rel="preload" href="/blog/assets/js/app.431a315a.js" as="script"><link rel="preload" href="/blog/assets/js/9.0764930c.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.2ba23999.js"><link rel="prefetch" href="/blog/assets/js/11.d36ac86f.js"><link rel="prefetch" href="/blog/assets/js/12.cb16adc0.js"><link rel="prefetch" href="/blog/assets/js/13.ef0649d5.js"><link rel="prefetch" href="/blog/assets/js/14.f4ef9817.js"><link rel="prefetch" href="/blog/assets/js/15.4ba24dcb.js"><link rel="prefetch" href="/blog/assets/js/16.6fdd4dce.js"><link rel="prefetch" href="/blog/assets/js/17.e8e231ac.js"><link rel="prefetch" href="/blog/assets/js/18.627ba29d.js"><link rel="prefetch" href="/blog/assets/js/2.3e3f7938.js"><link rel="prefetch" href="/blog/assets/js/3.b687121b.js"><link rel="prefetch" href="/blog/assets/js/4.bf224171.js"><link rel="prefetch" href="/blog/assets/js/5.c416fde2.js"><link rel="prefetch" href="/blog/assets/js/6.4e21a9ff.js"><link rel="prefetch" href="/blog/assets/js/7.7d59f68c.js"><link rel="prefetch" href="/blog/assets/js/8.8684bb78.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.0d0af00e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">ObtuseCave</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!---->  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>About</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Kotlin Koans</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/blog/koans/koan0.html" class="sidebar-link">Kotlin Koans 0. Hello Kotlin</a></li><li><a href="/blog/koans/koan1.html" class="active sidebar-link">Kotlin Koans 1 : Java to Kotlin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/koans/koan1.html#java-code" class="sidebar-link">Java Code</a></li><li class="sidebar-sub-header"><a href="/blog/koans/koan1.html#kotlin-code" class="sidebar-link">Kotlin Code</a></li></ul></li><li><a href="/blog/koans/koan2.html" class="sidebar-link">Kotlin Koans 2 Named Arguments</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Software Foundations</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Rust 속성</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="java-to-kotlin-conversion"><a href="#java-to-kotlin-conversion" aria-hidden="true" class="header-anchor">#</a> Java to Kotlin Conversion</h1> <p>내게는 Java 기반으로 다른 언어를 설명하는 것이 편하다. Java에도 능숙하다고 하기는 어렵지만, 그나마 익숙한 것이 Java이다. 물론 이제는 Scala나 ML 같은 함수형 언어가 더 친숙해졌지만. Java Code를 Kotlin으로 옮기며 둘의 차이를 살펴보자.</p> <h2 id="java-code"><a href="#java-code" aria-hidden="true" class="header-anchor">#</a> Java Code</h2> <p>Java Code의 역할을 살펴보자.</p> <div class="language-Java extra-class"><pre class="language-java"><code>    <span class="token keyword">public</span> String <span class="token function">toJSON</span><span class="token punctuation">(</span>Collection<span class="token generics function"><span class="token punctuation">&lt;</span>Integer<span class="token punctuation">&gt;</span></span> collection<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        StringBuilder sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;[&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Iterator<span class="token generics function"><span class="token punctuation">&lt;</span>Integer<span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> collection<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Integer element <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>정수 Collection을 받아 순서대로 &quot;[1, 2, 3, ... , 4]&quot; 형태의 String으로 만들어 반환한다.
사실 Collection Type을 그대로 써본 적은 없다. 그 하위 Type으로 Queue, List, Set 등을 써보긴 했지만, Collection도 이들과 같은 인터페이스를 제공할까? 일단 Collection에 대해 알아보자.</p> <h3 id="collection"><a href="#collection" aria-hidden="true" class="header-anchor">#</a> Collection</h3> <p>Java에서 Collection에 대해서는 <a href="https://www.geeksforgeeks.org/collections-in-java-2/" target="_blank" rel="noopener noreferrer">GeeksforGeeks Article<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>을 참고한다.</p> <blockquote><p>Collection : Root interface with basic methods like add(), remove(), contains(), isEmpty(), addAll(), ... etc.</p></blockquote> <p>내부적으로 Collection이 어떻게 동작하는지는 추후에 알아보자. Java의 Source Code를 들여다보면 알 수 있을 것이다.</p> <p>그럼 Kotlin에서 Collection은 어떻게 동작하는가? <a href="https://kotlinlang.org/docs/reference/collections.html" target="_blank" rel="noopener noreferrer">공식 문서<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>를 참고하자.</p> <blockquote><p>The Kotlin <code>List&lt;T&gt;</code> type is an interface that provides read-only operations like size, get and so on. Like in Java, it inherits from <code>Collection&lt;T&gt;</code> and that in turn inherits from <code>Iterable&lt;T&gt;</code>.</p></blockquote> <p>Java에서와 비슷한 형식으로 Collections Type이 구현되는 것 같다. 다만 다른 언어와는 다른 특징은 선언할 때 mutable한지 immutable한지 설정한다는 것이다.</p> <blockquote><p>Unlike many languages, Kotlin distinguishes between mutable and immutable collections (lists, sets, maps, etc). Precise control over exactly when collections can be edited is useful for eliminating bugs, and for designing good APIs.</p></blockquote> <p>나는 더 자세하게 설정하는 방식을 선호한다. 일부러 변수명도 자세히 적고 필요 없더라도 가독성을 위해 빈 괄호를 넣는 등. 그래서 내게는 이런 방식이 더 낫다고 느껴진다. 잘 모르겠지만, 오버헤드도 더 적어지리라 생각된다. immutable 방식은 get, size 등 데이터를 수정하지 않는 method만을 허용한다. Iterator도 비슷하게 쓰이는 듯 하다.</p> <h3 id="stringbuilder"><a href="#stringbuilder" aria-hidden="true" class="header-anchor">#</a> Stringbuilder</h3> <p><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-string-builder/" target="_blank" rel="noopener noreferrer">Kotlin API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>를 살펴보자. 거의 유사하기에 따로 말할 것은 없을 것 같다.</p> <h2 id="kotlin-code"><a href="#kotlin-code" aria-hidden="true" class="header-anchor">#</a> Kotlin Code</h2> <p>사실 val로 변수 선언하는 것 외에는 큰 차이가 없다. 그냥 거의 그대로 code를 쓴다.
정말, 함수의 첫 선언과 val로 변수를 선언한다는 것 외에는 거의 유사해서 특별히 덧붙일 말이 없다.
이처럼 Kotlin을 Java와 거의 유사한 문법으로 쓸 수도 있다.</p> <div class="language-Kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">toJSON</span><span class="token punctuation">(</span>collection<span class="token operator">:</span> Collection<span class="token operator">&lt;</span>Int<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
    <span class="token keyword">val</span> sb <span class="token operator">=</span> <span class="token function">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;[&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> iterator <span class="token operator">=</span> collection<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">val</span> element <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/koans/koan0.html" class="prev">
          Kotlin Koans 0. Hello Kotlin
        </a></span> <span class="next"><a href="/blog/koans/koan2.html">
          Kotlin Koans 2 Named Arguments
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/blog/assets/js/app.431a315a.js" defer></script><script src="/blog/assets/js/9.0764930c.js" defer></script>
  </body>
</html>
