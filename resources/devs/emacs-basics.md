---
title:  "Emacs 입문 / 기본 사용법"
date:   2018-07-16 12:07:40
description: Emacs의 기본적인 사용법
categories: 개발
tags: [tools]
---
## Emacs 기초 사용법
앞은 잡소리, 뒤는 사용법.

### 텍스트 에디터
나는 텍스트 에디터를 따로 배우지 않았다. 터미널에서 어쩔 수 없이 vim을 쓸 일은 있었지만, `wq`, `q!`정도의 명령어만 사용하고 기능들을 제대로 써보진 않았다. 복사 한 번 하기도 버거운 것이 터미널 기반 텍스트 에디터였다. 맨 처음에는 아마 노트패드++를 썼을 것 같지만 기억 나지 않는다. 내 첫 코딩은 awk였으며, 그 다음은 python2.7이었다. 그러나 툴은 기억 나지 않고, 리눅스에서 뭔가를 띄운 기억도 없다. 그러다가 Atom을 쓰기 시작했고, 17년에 Brackets를 써봤다가 Visual Studio Code에 정착한 기억이 난다. 그후로 나의 메인 에디터는 쭉 Code였다. 그러나 Proof General을 쓰기 위해 Emacs 사용법을 익힐 필요성이 생겼다. 터미널 환경에서 코딩하기 위해서는 CLI 기반 텍스트 에디터를 쓰는 것이 필요하다지만, 아직은 모르겠다. 서버를 다룰 일이 없어서인지. 어쩔 수 없이 써야만 했기에 Emacs를 배우기 시작했다.

### Emacs 설치 및 실행
```
sudo apt install emacs
```
끝. crostini 환경에서도 문제 없이 작동하였다. 터미널에서 `emacs`를 실행하거나 아이콘을 클릭하면 된다.

### Emacs 기본 튜토리얼
처음 실행하면 다음 메뉴가 표시된다. 다행히도 방향키와 엔터키(이하 RET로 표현된다.)로 선택할 수 있으니 `Emacs Tutorial`을 선택하자.
```
Emacs Tutorial	Learn basic keystroke commands
Emacs Guided Tour	Overview of Emacs features at gnu.org
View Emacs Manual	View the Emacs manual using Info
Absence of Warranty	GNU Emacs comes with ABSOLUTELY NO WARRANTY
Copying Conditions	Conditions for redistributing and changing Emacs
Ordering Manuals	Purchasing printed copies of manuals
```

### 기본 단축키 조합법
```
C-(어쩌구)
```
```
M-(어쩌구)
```
두 조합이 많이 쓰이는데, `C-`는 Ctrl 키와의 조합을, `M-`는 (원래 Meta 키지만) 대부분은 Alt 키와의 조합을 뜻한다. 예를 들어 `M-x`는 `Alt + x`를 누르라는 뜻.
```
C-x C-c ( 현재 세션 종료 )
```
는 현재 세션을 종료하는 키이다. `C-x`와 `C-c`를 차례대로 누르면 된다. 튜토리얼을 진행하다 해당 키를 눌러보면 Emacs 창이 꺼져버린다.
```
M-x ( 명령어 입력 )
C-g ( 명령어 관두기 )
```
`M-x`를 누르면 함수를 입력할 수 있는데, 이때 `C-g`를 누르면 명령어 입력을 관둘 수 있다. `M-x`는 많이 사용하니 외워두자. `execute`라서 `x`라고 하면 바로 외울 수 있다. 그런데 대부분의 단축키는 그다지 직관적이지 않다.

### 화면 이동
```
C-v ( 한 화면만큼 다음 페이지 이동 )
M-v ( 한 화면만큼 이전 페이지 이동, 즉 위와 반대 )
C-l ( 현재 커서를 기준으로 페이지 시점 변경)
```
`C-v`와 `M-v`는 각각 `PgDn` `PgUp`에 해당하니 헷갈릴 것 없고, 다만 `C-l`이 복잡한데,
한 번 누르면 커서가 중앙으로 오도록 화면 전환, 다시 누르면 커서가 맨 위로 오도록 페이지를 전환, 다시 누르면 커서가 맨 아래로 가도록 페이지가 움직인다. 커서가 움직이는 게 아니라 페이지 시점이 바뀌는 것.

### 커서 이동
```
C-p ( 이전 라인 )
C-n ( 다음 라인 )
C-b ( 커서를 뒤로, string 기준이라면 index 0을 향해서 이동 )
C-f ( 커서를 앞으로, 문장의 뒤를 향해 이동 )
```
그냥 화살표로 이동해도 된다. 다만 Emacs는 이 커서 이동 단축키를 익힐 것을 권하는데,
1. 화살표 키가 지원 안되는 환경이 있고
2. 익숙해지면 화살키로 손을 움직이는 것보다 빠를 것이며
3. 쓰다보면 다른 단축키를 익히기 좋다.
는 세 가지 이유이다. 아직은 그리 납득이 되질 않지만.
```
C-a ( 라인의 시작으로 )
C-e ( 라인의 끝으로 )
```
각각 `home` `end`에 대응한다.
```
M-a ( 라인의 시작으로, 이미 시작인 경우 이전 문장으로 )
M-e ( 라인의 끝으로, 이미 끝인 경우 다음 문장으로 )
```
는 비슷하지만, 다른 문장으로까지 이동한다는 것이 다르다.
```
M-b ( 단어 단위 커서 뒤로 이동 )
M-f ( 단어 단위 커서 앞으로 이동 )
```
도 비슷하지만, 단어 단위로 이동한다.
`M-`조합이 더 크게, meta하다는 느낌.

```
M-< ( 파일의 앞으로 )
M-> ( 파일의 끝으로 )
```

### 숫자 인자를 주어 n회 반복하기
emacs 명령어는 숫자를 인자로 받는데, 대체로 n회 반복을 위해 쓰인다.
```
C-u 8 C-f ( C-f 8번 반복)
```
`C-u` 조합이 여기에 쓰인다. 이 정도가 되면 웬만한 emacs의 사용법에 익숙해졌다고 할만한 것 같다. 나머지 키들은 실제 사용하면서 하나하나 익혀보는 것이 좋을 것 같다. 그럼 이외에도 바로 당장 필요한 키들만을 보고, 나머지는

### 그외 사용할 키들
```
C-x C-s ( 저장 )
C-x k ( 현재 버퍼 종료 )
C-s ( 앞으로 찾기 )
C-r ( 뒤로 찾기 )
C-/ ( 동작 취소, Ctrl-Z에 해당 )
M-w ( 복사 )
C-y ( 붙여넣기 )
```
이 정도 키를 주로 사용하게 되었고, 나머지는 그때그때, GUI 메뉴에서 탐색하며 사용하기로 했다.

### emacs를 계속 사용할 유인이 있는가?
사실 잘 모르겠다. 일단 crostini에서는, 입력 문제 때문에 터미널 에디터들을 제외하고는 emacs가 거의 유일하게 사용할 수 있는 에디터이다. 그래서 크롬북에서는 선택의 여지 없이 emacs를 사용할 것 같고, coq를 사용할 때에도 가장 제대로 된 에디터가 proof-general이기 때문에 마찬가지로 선택의 여지가 없을 것 같다. 하지만, 그렇다고 이 에디터 자체가 편리하거나, 작업 능률을 늘리냐고 하면, 그것은 아닌 것 같다. `C-s`면 저장이 되는 것을, `C-x C-s`로 두 배나 피곤해야 한다. 그리고 이 때문에 왼쪽 손가락들에 부담이 너무 심하다. 무엇 하나를 하려고 해도 몇 번씩 반복해서 눌러야 하기 때문에 쉽게 피로가 느껴진다. Ctrl, Alt 키를 페달에 배정해서 쓰지 않는한, 새끼손가락은 영원히 고통 받을 것. 타격감이 좋긴 하다. 내 손가락도 타격을 받아서 문제지.